

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Diffbot Class &mdash; Diffbot PHP Client Documentation 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/local_build.css" type="text/css" />
  

  

  
    <link rel="top" title="Diffbot PHP Client Documentation 1 documentation" href="index.html"/>
        <link rel="next" title="API Abstract" href="abstract-api.html"/>
        <link rel="prev" title="Overview" href="overview.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Diffbot PHP Client Documentation
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#diffbot">Diffbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#diffbot-php-client">Diffbot PHP Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="overview.html#quickstart">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html#quicklinks">Quicklinks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Diffbot Class</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#settoken"><span class="hidden">setToken</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#gettoken"><span class="hidden">getToken</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#sethttpclient"><span class="hidden">setHttpClient</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#gethttpclient"><span class="hidden">getHttpClient</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#setentityfactory"><span class="hidden">setEntityFactory</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#getentityfactory"><span class="hidden">getEntityFactory</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#createproductapi"><span class="hidden">createProductApi</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#createarticleapi"><span class="hidden">createArticleApi</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#createimageapi"><span class="hidden">createImageApi</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#createanalyzeapi"><span class="hidden">createAnalyzeApi</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#creatediscussionapi"><span class="hidden">createDiscussionApi</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#createcustomapi"><span class="hidden">createCustomApi</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#crawl"><span class="hidden">crawl</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="#search"><span class="hidden">search</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="abstract-api.html">API Abstract</a><ul>
<li class="toctree-l2"><a class="reference internal" href="abstract-api.html#construct"><span class="hidden">__construct</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract-api.html#settimeout"><span class="hidden">setTimeout</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract-api.html#call"><span class="hidden">call</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract-api.html#buildurl"><span class="hidden">buildUrl</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="abstract-entity.html">Entity Abstract</a><ul>
<li class="toctree-l2"><a class="reference internal" href="abstract-entity.html#construct"><span class="hidden">__construct</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract-entity.html#getdata"><span class="hidden">getData</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract-entity.html#call"><span class="hidden">__call</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract-entity.html#get"><span class="hidden">__get</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-article.html">Article API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-article.html#namespace-Swader\Diffbot\Api">Article API Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#construct"><span class="hidden">__construct</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#setsentiment"><span class="hidden">setSentiment</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#setpaging"><span class="hidden">setPaging</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#setmaxtags"><span class="hidden">setMaxTags</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#setdiscussion"><span class="hidden">setDiscussion</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-article.html#article-entity-class">Article Entity Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#id1"><span class="hidden">__construct</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#gettype"><span class="hidden">getType</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#gettext"><span class="hidden">getText</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#gethtml"><span class="hidden">getHtml</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getdate"><span class="hidden">getDate</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getauthor"><span class="hidden">getAuthor</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#gettags"><span class="hidden">getTags</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getnumpages"><span class="hidden">getNumPages</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getnextpages"><span class="hidden">getNextPages</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getsentiment"><span class="hidden">getSentiment</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getdiscussion"><span class="hidden">getDiscussion</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getimages"><span class="hidden">getImages</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-article.html#getvideos"><span class="hidden">getVideos</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-product.html">Product API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-product.html#namespace-Swader\Diffbot\Api">Product API Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-discussion.html">Discussion API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-discussion.html#namespace-Swader\Diffbot\Api">Discussion API Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-image.html">Image API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-image.html#namespace-Swader\Diffbot\Api">Image API Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-analyze.html">Analyze API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-analyze.html#namespace-Swader\Diffbot\Api">Analyze API Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api-analyze.html#setdiscussion"><span class="hidden">setDiscussion</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="api-analyze.html#setmode"><span class="hidden">setMode</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-custom.html">Custom API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-custom.html#namespace-Swader\Diffbot\Api">Custom API Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api-custom.html#construct"><span class="hidden">__construct</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-custom.html#namespace-Swader\Diffbot\Entity">Wildcard Entity Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-crawl.html">Crawl API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-crawl.html#crawl-api-class">Crawl API Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-crawl.html#jobcrawl-class">JobCrawl Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-search.html">Search API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api-search.html#namespace-Swader\Diffbot\Api">Search API Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="class-entityfactory.html">EntityFactory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="class-entityfactory.html#id1">EntityFactory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="class-entityiterator.html">EntityIterator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="class-entityiterator.html#namespace-Swader\Diffbot\Entity">EntityIterator Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="class-exceptions.html">Exceptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="class-exceptions.html#namespace-Swader\Diffbot\Exceptions">DiffbotException</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="class-interfaces.html">Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="class-interfaces.html#api">Api</a><ul>
<li class="toctree-l3"><a class="reference internal" href="class-interfaces.html#settimeout"><span class="hidden">setTimeout</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-interfaces.html#call"><span class="hidden">call</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-interfaces.html#buildurl"><span class="hidden">buildUrl</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="class-interfaces.html#entityfactory">EntityFactory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="class-interfaces.html#createappropriateiterator"><span class="hidden">createAppropriateIterator</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="class-traits.html">Traits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="class-traits.html#diffbotaware">DiffbotAware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#registerdiffbot"><span class="hidden">registerDiffbot</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="class-traits.html#standardapi">StandardApi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#setlinks"><span class="hidden">setLinks</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#setmeta"><span class="hidden">setMeta</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#setbreadcrumb"><span class="hidden">setBreadcrumb</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#setquerystring"><span class="hidden">setQuerystring</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#standardentity">StandardEntity</a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getlang"><span class="hidden">getLang</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#gethumanlanguage"><span class="hidden">getHumanLanguage</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getpageurl"><span class="hidden">getPageUrl</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getresolvedpageurl"><span class="hidden">getResolvedPageUrl</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#gettitle"><span class="hidden">getTitle</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getlinks"><span class="hidden">getLinks</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getmeta"><span class="hidden">getMeta</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getbreadcrumb"><span class="hidden">getBreadcrumb</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="class-traits.html#getquerystring"><span class="hidden">getQueryString</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Diffbot PHP Client Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Diffbot Class</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/01-diffbot.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="diffbot-class">
<h1>Diffbot Class<a class="headerlink" href="#diffbot-class" title="Permalink to this headline">¶</a></h1>
<p>The Diffbot class is the first instance a developer must create when using the client. It serves as a container for global settings, and as a factory for the various API endpoint classes.</p>
<span class="target" id="namespace-Swader\Diffbot"></span><dl class="class">
<dt id="Swader\Diffbot\Diffbot">
<em class="property">class </em><code class="descclassname">Swader\Diffbot\</code><code class="descname">Diffbot</code><a class="headerlink" href="#Swader\Diffbot\Diffbot" title="Permalink to this definition">¶</a></dt>
<dd><p>The Diffbot class takes a single optional argument, the <code class="docutils literal"><span class="pre">$token</span></code>, which can be obtained <a class="reference external" href="https://diffbot.com/pricing">here</a>. Instantiate like so:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$diffbot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Diffbot</span><span class="p">(</span><span class="s2">&quot;my_token&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Alternatively, set the token globally, and instantiate without passing in the parameter:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nx">Diffbot</span><span class="o">::</span><span class="na">setToken</span><span class="p">(</span><span class="s2">&quot;my_token&quot;</span><span class="p">);</span>
<span class="nv">$diffbot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Diffbot</span><span class="p">();</span>
</pre></div>
</div>
<p>Note that if you instantiate without a global token set, and don&#8217;t pass in a token while instantiating either, you&#8217;ll get a <a class="reference internal" href="class-exceptions.html#Swader\Diffbot\Exceptions\DiffbotException" title="Swader\Diffbot\Exceptions\DiffbotException"><code class="xref php php-exc docutils literal"><span class="pre">Swader\Diffbot\Exceptions\DiffbotException</span></code></a> thrown.</p>
</dd></dl>

<div class="section" id="settoken">
<h2><span class="hidden">setToken</span><a class="headerlink" href="#settoken" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="staticmethod">
<dt id="Swader\Diffbot\Diffbot::setToken">
<em class="property">static </em><code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">setToken</code><span class="sig-paren">(</span><em>$token</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::setToken" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$token</strong> (<em>string</em>) &#8211; The token.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void, or throws an <a class="reference external" href="http://php.net/manual/en/class.invalidargumentexception.php">\InvalidArgumentException</a> if the token is invalid</p>
</td>
</tr>
</tbody>
</table>
<p>Useful for setting a default token for all future instances.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nx">Diffbot</span><span class="o">::</span><span class="na">setToken</span><span class="p">(</span><span class="s2">&quot;my_token&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="gettoken">
<h2><span class="hidden">getToken</span><a class="headerlink" href="#gettoken" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::getToken">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">getToken</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::getToken" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">null or string</td>
</tr>
</tbody>
</table>
<p>Returns either the instance token, or the globally defined one - or null if neither is defined</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">echo</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">getToken</span><span class="p">();</span> <span class="c1">// &quot;my_token&quot;</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="sethttpclient">
<h2><span class="hidden">setHttpClient</span><a class="headerlink" href="#sethttpclient" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::setHttpClient">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">setHttpClient</code><span class="sig-paren">(</span><em>GuzzleHttp\Client $client</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::setHttpClient" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$client</strong> (<em>GuzzleHttp\Client</em>) &#8211; The HTTP client.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">$this</p>
</td>
</tr>
</tbody>
</table>
<p>Allows changing of HTTP clients used to send requests to the Diffbot API. Generally useful only during testing, but some edge cases may arise. This method does not need to be called for Diffbot to be usable - it will default to a new instance of the regular GuzzleHttpClient.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GuzzleHttp\Client</span><span class="p">();</span>
<span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">setHttpClient</span><span class="p">(</span><span class="nv">$client</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="gethttpclient">
<h2><span class="hidden">getHttpClient</span><a class="headerlink" href="#gethttpclient" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::getHttpClient">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">getHttpClient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::getHttpClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the currently set HTTP client. Can be changed via <a class="reference internal" href="#Swader\Diffbot\Diffbot::setHttpClient" title="Swader\Diffbot\Diffbot::setHttpClient"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::setHttpClient</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">GuzzleHttp\Client</td>
</tr>
</tbody>
</table>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="setentityfactory">
<h2><span class="hidden">setEntityFactory</span><a class="headerlink" href="#setentityfactory" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::setEntityFactory">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">setEntityFactory</code><span class="sig-paren">(</span><em>$factory</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::setEntityFactory" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$factory</strong> (<a class="reference internal" href="class-interfaces.html#Swader\Diffbot\Interfaces\EntityFactory" title="Swader\Diffbot\Interfaces\EntityFactory"><em>Swader\Diffbot\Interfaces\EntityFactory</em></a>) &#8211; A <a class="reference internal" href="class-interfaces.html#Swader\Diffbot\Interfaces\EntityFactory" title="Swader\Diffbot\Interfaces\EntityFactory"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Interfaces\EntityFactory</span></code></a> implementation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">$this</p>
</td>
</tr>
</tbody>
</table>
<p>Allows for changing the entity factory in use when returning and processing Diffbot-provided data. A custom Entity Factory might, for example, return Author entities (also custom) for all calls to a custom API set up in a user&#8217;s Diffbot account. This helps with getting fully consumable custom data right from the API source, rather than requiring additional processing.</p>
<p>If not explicitly set, defaults to built-in <a class="reference internal" href="class-entityfactory.html#Swader\Diffbot\Factory\Entity" title="Swader\Diffbot\Factory\Entity"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Factory\Entity</span></code></a>.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$newEntityFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\My\Custom\EntityFactory</span><span class="p">();</span>

<span class="nv">$diffbot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Diffbot</span><span class="p">(</span><span class="s1">&#39;my_token&#39;</span><span class="p">);</span>
<span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">setEntityFactory</span><span class="p">(</span><span class="nv">$newEntityFactory</span><span class="p">);</span>

<span class="c1">// @todo: Full tutorial about a custom Entity and EntityFactory</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="getentityfactory">
<h2><span class="hidden">getEntityFactory</span><a class="headerlink" href="#getentityfactory" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::getEntityFactory">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">getEntityFactory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::getEntityFactory" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="class-interfaces.html#Swader\Diffbot\Interfaces\EntityFactory" title="Swader\Diffbot\Interfaces\EntityFactory"><code class="xref php php-interface docutils literal"><span class="pre">Swader\Diffbot\Interfaces\EntityFactory</span></code></a></td>
</tr>
</tbody>
</table>
<p>Returns the currently defined <a class="reference internal" href="class-interfaces.html#Swader\Diffbot\Interfaces\EntityFactory" title="Swader\Diffbot\Interfaces\EntityFactory"><code class="xref php php-interface docutils literal"><span class="pre">Swader\Diffbot\Interfaces\EntityFactory</span></code></a> instance. This method generally isn&#8217;t needed outside of testing scenarios. See above for usage of the setter.</p>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="createproductapi">
<h2><span class="hidden">createProductApi</span><a class="headerlink" href="#createproductapi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::createProductApi">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">createProductApi</code><span class="sig-paren">(</span><em>$url</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::createProductApi" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$url</strong> (<em>string</em>) &#8211; URL which is to be processed, or the word &#8220;crawl&#8221;</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-product.html#Swader\Diffbot\Api\Product" title="Swader\Diffbot\Api\Product"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Product</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The product API turns web shops, catalogs, etc. into structured JSON (think eBay, Amazon...). This method creates an instance of the <a class="reference internal" href="api-product.html#Swader\Diffbot\Api\Product" title="Swader\Diffbot\Api\Product"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Product</span></code></a> class. The method accepts a single string as a parameter: either a URL which to process, or the word &#8220;crawl&#8221; if used in conjunction with the <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> method (see below). For a detailed directory of available methods and in depth usage examples, see the <a class="reference internal" href="api-product.html#Swader\Diffbot\Api\Product" title="Swader\Diffbot\Api\Product"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Product</span></code></a> documentation.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$api</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">createProductApi</span><span class="p">(</span><span class="s2">&quot;http://www.amazon.com/Oh-The-Places-Youll-Go/dp/0679805273/&quot;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">offerPrice</span><span class="p">;</span> <span class="c1">// $11.99</span>
<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getIsbn</span><span class="p">();</span> <span class="c1">// 0679805273</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="createarticleapi">
<h2><span class="hidden">createArticleApi</span><a class="headerlink" href="#createarticleapi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::createArticleApi">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">createArticleApi</code><span class="sig-paren">(</span><em>$url</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::createArticleApi" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$url</strong> (<em>string</em>) &#8211; URL which is to be processed, or the word &#8220;crawl&#8221;</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-article.html#Swader\Diffbot\Api\Article" title="Swader\Diffbot\Api\Article"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Article</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The article API turns online news posts, blog articles, etc. into structured JSON. This method creates an instance of the <a class="reference internal" href="api-article.html#Swader\Diffbot\Api\Article" title="Swader\Diffbot\Api\Article"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Article</span></code></a> class. The method accepts a single string as a parameter: either a URL which to process, or the word &#8220;crawl&#8221; if used in conjunction with the <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> method (see below). For a detailed directory of available methods and in depth usage examples, see the <a class="reference internal" href="api-article.html#Swader\Diffbot\Api\Article" title="Swader\Diffbot\Api\Article"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Article</span></code></a> documentation.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$api</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">createArticleApi</span><span class="p">(</span><span class="s2">&quot;http://techcrunch.com/2012/05/31/diffbot-raises-2-million-seed-round-for-web-content-extraction-technology/&quot;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">publisherCountry</span><span class="p">;</span> <span class="c1">// United States</span>
<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getAuthor</span><span class="p">();</span> <span class="c1">// Sarah Perez</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="createimageapi">
<h2><span class="hidden">createImageApi</span><a class="headerlink" href="#createimageapi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::createImageApi">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">createImageApi</code><span class="sig-paren">(</span><em>$url</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::createImageApi" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$url</strong> (<em>string</em>) &#8211; URL which is to be processed, or the word &#8220;crawl&#8221;</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-image.html#Swader\Diffbot\Api\Image" title="Swader\Diffbot\Api\Image"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Image</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The image API finds images in a post and returns them as JSON. This method creates an instance of the <a class="reference internal" href="api-image.html#Swader\Diffbot\Api\Image" title="Swader\Diffbot\Api\Image"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Image</span></code></a> class. The method accepts a single string as a parameter: either a URL which to process for images, or the word &#8220;crawl&#8221; if used in conjunction with the <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> method (see below). For a detailed directory of available methods and in depth usage examples, see the <a class="reference internal" href="api-image.html#Swader\Diffbot\Api\Image" title="Swader\Diffbot\Api\Image"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Image</span></code></a> documentation. Note that unlike Product and Article, the Image API can return several Image entities (see usage below). If not iterated through, the result refers to the first image only.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$api</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">createImageApi</span><span class="p">(</span><span class="s2">&quot;http://smittenkitchen.com/blog/2012/01/buckwheat-baby-with-salted-caramel-syrup/&quot;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">naturalHeight</span><span class="p">;</span> <span class="c1">// 333</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$result</span> <span class="k">as</span> <span class="nv">$image</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">;</span>
    <span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getXPath</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="createanalyzeapi">
<h2><span class="hidden">createAnalyzeApi</span><a class="headerlink" href="#createanalyzeapi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::createAnalyzeApi">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">createAnalyzeApi</code><span class="sig-paren">(</span><em>$url</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::createAnalyzeApi" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$url</strong> (<em>string</em>) &#8211; URL which is to be processed, or the word &#8220;crawl&#8221;</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-analyze.html#Swader\Diffbot\Api\Analyze" title="Swader\Diffbot\Api\Analyze"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Analyze</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The analyze API tries to autodetect the content it&#8217;s dealing with (image, product, article...) and extracts it into structured JSON. This method creates an instance of the <a class="reference internal" href="api-analyze.html#Swader\Diffbot\Api\Analyze" title="Swader\Diffbot\Api\Analyze"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Analyze</span></code></a> class. The method accepts a single string as a parameter: either a URL which to process, or the word &#8220;crawl&#8221; if used in conjunction with the <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> method (see below). The Analyze API is the default API used during <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> mode.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$api</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">createAnalyzeApi</span><span class="p">(</span><span class="s2">&quot;http://techcrunch.com/2012/05/31/diffbot-raises-2-million-seed-round-for-web-content-extraction-technology/&quot;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">publisherCountry</span><span class="p">;</span> <span class="c1">// United States</span>
<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getAuthor</span><span class="p">();</span> <span class="c1">// Sarah Perez</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="creatediscussionapi">
<h2><span class="hidden">createDiscussionApi</span><a class="headerlink" href="#creatediscussionapi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::createDiscussionApi">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">createDiscussionApi</code><span class="sig-paren">(</span><em>$url</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::createDiscussionApi" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$url</strong> (<em>string</em>) &#8211; URL which is to be processed, or the word &#8220;crawl&#8221;</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-discussion.html#Swader\Diffbot\Api\Discussion" title="Swader\Diffbot\Api\Discussion"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Discussion</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The discussion API turns online comments, forum topics or pages of reviews into structured JSON. Think Amazon review section, Youtube comments, article Disqus comments, etc. This method creates an instance of the <a class="reference internal" href="api-discussion.html#Swader\Diffbot\Api\Discussion" title="Swader\Diffbot\Api\Discussion"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Discussion</span></code></a>. The method accepts a single string as a parameter: either a URL which to process, or the word &#8220;crawl&#8221; if used in conjunction with the <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> method (see below). Like the Image API above, this one also returns several <a class="reference internal" href="api-discussion.html#Swader\Diffbot\Api\Discussion" title="Swader\Diffbot\Api\Discussion"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Discussion</span></code></a> entities per call, if available, along with other data - see usage below.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$api</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">createDiscussionApi</span><span class="p">(</span><span class="s2">&quot;http://boards.straightdope.com/sdmb/showthread.php?t=740315&quot;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">numPosts</span><span class="p">;</span> <span class="c1">// 43</span>
<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">getParticipants</span><span class="p">();</span> <span class="c1">// 23</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$result</span> <span class="k">as</span> <span class="nv">$post</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">getAuthor</span><span class="p">();</span>
    <span class="k">echo</span> <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">votes</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="createcustomapi">
<h2><span class="hidden">createCustomApi</span><a class="headerlink" href="#createcustomapi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::createCustomApi">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">createCustomApi</code><span class="sig-paren">(</span><em>$url</em>, <em>$name</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::createCustomApi" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$url</strong> (<em>string</em>) &#8211; URL which is to be processed, or the word &#8220;crawl&#8221;</li>
<li><strong>$name</strong> (<em>string</em>) &#8211; Name of the custom API as defined in the <a class="reference external" href="https://diffbot.com/dev">Diffbot UI</a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-custom.html#Swader\Diffbot\Api\Custom" title="Swader\Diffbot\Api\Custom"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Custom</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Diffbot customers can define Custom APIs. For a tutorial on doing this, see <a class="reference external" href="http://www.sitepoint.com/analyze-sitepoint-author-portfolios-diffbot/">here</a>. What it comes down to, is that you can tell Diffbot how to recognize certain areas of a web page, and have it translate that into JSON for you if none of the standard APIs do the trick. This allows for much more lightweight and specific calls, resulting in a quicker turnaround and (usually) more precise data. This method creates an instance of the <a class="reference internal" href="api-custom.html#Swader\Diffbot\Api\Custom" title="Swader\Diffbot\Api\Custom"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Custom</span></code></a>. The method accepts two parameters: either a URL which to process, or the word &#8220;crawl&#8221; if used in conjunction with the <a class="reference internal" href="#Swader\Diffbot\Diffbot::crawl" title="Swader\Diffbot\Diffbot::crawl"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::crawl</span></code></a> method (see below), and the name of the custom API to use. Unlike other APIs, this one has no specific entity to return and instead returns a <a class="reference internal" href="api-custom.html#Swader\Diffbot\Entity\Wildcard" title="Swader\Diffbot\Entity\Wildcard"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Entity\Wildcard</span></code></a> entity which matches <em>anything</em>.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$api</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">createCustomApi</span><span class="p">(</span><span class="s2">&quot;http://sitepoint.com/author/bskvorc&quot;</span><span class="p">,</span> <span class="s2">&quot;AuthorFolio&quot;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">bio</span><span class="p">;</span> <span class="c1">// Bruno is a coder from Croatia with Master&#39;s Degrees in...</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="crawl">
<h2><span class="hidden">crawl</span><a class="headerlink" href="#crawl" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::crawl">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">crawl</code><span class="sig-paren">(</span><em>$name = null</em>, <em>Swader\Diffbot\Api $api = null</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::crawl" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$name</strong> (<em>string</em>) &#8211; Name of the new crawljob. If omitted, activates read only mode and returns joint data about all defined crawljobs for the current Diffbot token.</li>
<li><strong>$api</strong> (<a class="reference internal" href="api-search.html#namespace-Swader\Diffbot\Api"><em>Swader\Diffbot\Api</em></a>) &#8211; Instance of the API to process the crawled URLs. If omitted, defaults to <a class="reference internal" href="api-analyze.html#Swader\Diffbot\Api\Analyze" title="Swader\Diffbot\Api\Analyze"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Analyze</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-crawl.html#Swader\Diffbot\Api\Crawl" title="Swader\Diffbot\Api\Crawl"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Crawl</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The crawl method is used to create new Crawlbot job (crawljob). To find out more about Crawlbot and what, how and why it does what it does, see <a class="reference external" href="https://www.diffbot.com/dev/docs/crawl/">here</a>. I also recommend reading the <a class="reference external" href="https://www.diffbot.com/dev/docs/crawl/api.jsp">Crawlbot API docs</a> and the <a class="reference external" href="http://support.diffbot.com/topics/crawlbot/">Crawlbot support topics</a> just so you can dive right in without being too confused by the code below.</p>
<p>In a nutshell, the Crawlbot crawls a set of seed URLs for links (even if a subdomain is passed to it as seed URL, it still looks through the entire main domain and all other subdomains it can find) and then processes all the pages it can find using the API you define (or opting for Analyze API by default). The result of the call is a collection of <a class="reference internal" href="api-crawl.html#Swader\Diffbot\Entity\JobCrawl" title="Swader\Diffbot\Entity\JobCrawl"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Entity\JobCrawl</span></code></a> objects, each with details about a defined job. To actually get data obtained by crawling and processing, use the <a class="reference internal" href="#Swader\Diffbot\Diffbot::search" title="Swader\Diffbot\Diffbot::search"><code class="xref php php-meth docutils literal"><span class="pre">Swader\Diffbot\Diffbot::search</span></code></a> API.</p>
<p>Here&#8217;s how you can create a crawljob (see detailed <a class="reference internal" href="api-search.html#Swader\Diffbot\Api\Search" title="Swader\Diffbot\Api\Search"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Search</span></code></a> for a step by step guide with explanations):</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$url</span> <span class="o">=</span> <span class="s1">&#39;crawl&#39;</span><span class="p">;</span>
<span class="nv">$articleApi</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">createArticleAPI</span><span class="p">(</span><span class="nv">$url</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setDiscussion</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

<span class="nv">$crawl</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">crawl</span><span class="p">(</span><span class="s1">&#39;mycrawl_01&#39;</span><span class="p">,</span> <span class="nv">$articleApi</span><span class="p">);</span>

<span class="nv">$crawl</span><span class="o">-&gt;</span><span class="na">setSeeds</span><span class="p">([</span><span class="s1">&#39;http://sitepoint.com&#39;</span><span class="p">]);</span>

<span class="nv">$job</span> <span class="o">=</span> <span class="nv">$crawl</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="c1">// See JobCrawl class to find out which getters are available</span>
<span class="nx">dump</span><span class="p">(</span><span class="nv">$job</span><span class="o">-&gt;</span><span class="na">getDownloadUrl</span><span class="p">(</span><span class="s2">&quot;json&quot;</span><span class="p">));</span> <span class="c1">// outputs download URL to JSON dataset of the job&#39;s result</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
<div class="section" id="search">
<h2><span class="hidden">search</span><a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="method">
<dt id="Swader\Diffbot\Diffbot::search">
<code class="descclassname">Swader\Diffbot\Diffbot::</code><code class="descname">search</code><span class="sig-paren">(</span><em>$q</em><span class="sig-paren">)</span><a class="headerlink" href="#Swader\Diffbot\Diffbot::search" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$q</strong> (<em>string</em>) &#8211; The query to execute against the Search API</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="api-search.html#Swader\Diffbot\Api\Search" title="Swader\Diffbot\Api\Search"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Search</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>The Search API is used to search through sets of crawled and processed data obtained through the use of the Crawl or Bulk API. It accepts a simple string query, and returns an array of all matching entities. For a live example of crawl + search implemenation, see <a class="reference external" href="http://search.sitepoint.tools">here</a>, and for a full walkthrough of the Search API, see the <a class="reference internal" href="api-search.html#Swader\Diffbot\Api\Search" title="Swader\Diffbot\Api\Search"><code class="xref php php-class docutils literal"><span class="pre">Swader\Diffbot\Api\Search</span></code></a> docs.</p>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$search</span> <span class="o">=</span> <span class="nv">$diffbot</span><span class="o">-&gt;</span><span class="na">search</span><span class="p">(</span><span class="s1">&#39;author:&quot;Miles Johnson&quot; AND type:article&#39;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$search</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">();</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$result</span> <span class="k">as</span> <span class="nv">$article</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span class="na">getTitle</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="abstract-api.html" class="btn btn-neutral float-right" title="API Abstract" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Bruno Skvorc.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>